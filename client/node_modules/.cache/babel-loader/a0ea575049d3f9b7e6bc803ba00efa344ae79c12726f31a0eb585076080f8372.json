{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jayme\\\\Project Sort\\\\repos\\\\project-sort\\\\client\\\\src\\\\components\\\\LocationSelect.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { TextField, Autocomplete, Box, Typography, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\nimport LocationService from '../services/LocationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LocationSelect({\n  value,\n  onChange,\n  error,\n  helperText\n}) {\n  _s();\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newLocationDialogOpen, setNewLocationDialogOpen] = useState(false);\n  const [newLocationName, setNewLocationName] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  useEffect(() => {\n    const fetchLocations = async () => {\n      try {\n        const data = await LocationService.getAllLocations();\n        setLocations(data);\n      } catch (error) {\n        setErrorMessage(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLocations();\n  }, []);\n  const handleCreateLocation = async () => {\n    try {\n      if (!newLocationName.trim()) {\n        setErrorMessage('Location name cannot be empty');\n        return;\n      }\n      const newLocation = await LocationService.createLocation(newLocationName.trim());\n      setLocations(prev => [...prev, newLocation]);\n      setNewLocationDialogOpen(false);\n      setNewLocationName('');\n      // Select the newly created location\n      onChange(newLocation._id);\n    } catch (error) {\n      setErrorMessage(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n      value: locations.find(loc => loc._id === value) || null,\n      onChange: (event, newValue) => {\n        if (newValue === 'create-new') {\n          setNewLocationDialogOpen(true);\n        } else {\n          onChange((newValue === null || newValue === void 0 ? void 0 : newValue._id) || '');\n        }\n      },\n      options: [...locations, 'create-new'],\n      getOptionLabel: option => {\n        if (option === 'create-new') return 'Create new location...';\n        return option.name;\n      },\n      renderOption: (props, option) => {\n        if (option === 'create-new') {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            ...props,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"primary\",\n              children: \"Create new location...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          ...props,\n          children: option.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 18\n        }, this);\n      },\n      loading: loading,\n      renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n        ...params,\n        label: \"Location\",\n        error: error,\n        helperText: helperText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: newLocationDialogOpen,\n      onClose: () => setNewLocationDialogOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Create New Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Enter a name for the new location.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          label: \"Location Name\",\n          type: \"text\",\n          fullWidth: true,\n          variant: \"outlined\",\n          value: newLocationName,\n          onChange: e => setNewLocationName(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              handleCreateLocation();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setNewLocationDialogOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCreateLocation,\n          color: \"primary\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      variant: \"body2\",\n      sx: {\n        mt: 1\n      },\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(LocationSelect, \"XHflUnskrTNJCRxpZB987K750Qw=\");\n_c = LocationSelect;\nexport default LocationSelect;\nvar _c;\n$RefreshReg$(_c, \"LocationSelect\");","map":{"version":3,"names":["React","useState","useEffect","TextField","Autocomplete","Box","Typography","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","LocationService","jsxDEV","_jsxDEV","LocationSelect","value","onChange","error","helperText","_s","locations","setLocations","loading","setLoading","newLocationDialogOpen","setNewLocationDialogOpen","newLocationName","setNewLocationName","errorMessage","setErrorMessage","fetchLocations","data","getAllLocations","message","handleCreateLocation","trim","newLocation","createLocation","prev","_id","children","find","loc","event","newValue","options","getOptionLabel","option","name","renderOption","props","color","fileName","_jsxFileName","lineNumber","columnNumber","renderInput","params","label","open","onClose","autoFocus","margin","type","fullWidth","variant","e","target","onKeyPress","key","onClick","sx","mt","_c","$RefreshReg$"],"sources":["C:/Users/Jayme/Project Sort/repos/project-sort/client/src/components/LocationSelect.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  TextField,\r\n  Autocomplete,\r\n  Box,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n  Button,\r\n} from '@mui/material';\r\nimport LocationService from '../services/LocationService';\r\n\r\nfunction LocationSelect({ value, onChange, error, helperText }) {\r\n  const [locations, setLocations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newLocationDialogOpen, setNewLocationDialogOpen] = useState(false);\r\n  const [newLocationName, setNewLocationName] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      try {\r\n        const data = await LocationService.getAllLocations();\r\n        setLocations(data);\r\n      } catch (error) {\r\n        setErrorMessage(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchLocations();\r\n  }, []);\r\n\r\n  const handleCreateLocation = async () => {\r\n    try {\r\n      if (!newLocationName.trim()) {\r\n        setErrorMessage('Location name cannot be empty');\r\n        return;\r\n      }\r\n      const newLocation = await LocationService.createLocation(newLocationName.trim());\r\n      setLocations(prev => [...prev, newLocation]);\r\n      setNewLocationDialogOpen(false);\r\n      setNewLocationName('');\r\n      // Select the newly created location\r\n      onChange(newLocation._id);\r\n    } catch (error) {\r\n      setErrorMessage(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Autocomplete\r\n        value={locations.find(loc => loc._id === value) || null}\r\n        onChange={(event, newValue) => {\r\n          if (newValue === 'create-new') {\r\n            setNewLocationDialogOpen(true);\r\n          } else {\r\n            onChange(newValue?._id || '');\r\n          }\r\n        }}\r\n        options={[...locations, 'create-new']}\r\n        getOptionLabel={(option) => {\r\n          if (option === 'create-new') return 'Create new location...';\r\n          return option.name;\r\n        }}\r\n        renderOption={(props, option) => {\r\n          if (option === 'create-new') {\r\n            return (\r\n              <li {...props}>\r\n                <Typography color=\"primary\">Create new location...</Typography>\r\n              </li>\r\n            );\r\n          }\r\n          return <li {...props}>{option.name}</li>;\r\n        }}\r\n        loading={loading}\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            label=\"Location\"\r\n            error={error}\r\n            helperText={helperText}\r\n          />\r\n        )}\r\n      />\r\n\r\n      <Dialog\r\n        open={newLocationDialogOpen}\r\n        onClose={() => setNewLocationDialogOpen(false)}\r\n      >\r\n        <DialogTitle>Create New Location</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Enter a name for the new location.\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Location Name\"\r\n            type=\"text\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={newLocationName}\r\n            onChange={(e) => setNewLocationName(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter') {\r\n                handleCreateLocation();\r\n              }\r\n            }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setNewLocationDialogOpen(false)}>Cancel</Button>\r\n          <Button onClick={handleCreateLocation} color=\"primary\">Create</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {errorMessage && (\r\n        <Typography color=\"error\" variant=\"body2\" sx={{ mt: 1 }}>\r\n          {errorMessage}\r\n        </Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default LocationSelect; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}